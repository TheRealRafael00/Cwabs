import base64
exec(base64.b64decode("aW1wb3J0IG9zCmltcG9ydCByZQppbXBvcnQgc3lzCmltcG9ydCB0aW1lCmltcG9ydCBzb2NrZXQKaW1wb3J0IHJlcXVlc3RzCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmZyb20gaXB3aG9pcyBpbXBvcnQgSVBXaG9pcwppbXBvcnQgcHl0egppbXBvcnQgc2lnbmFsCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aAoKIyBXYXJuYSB0ZXJtaW5hbApSRVNFVCA9ICJcMDMzWzBtIgpDWUFOID0gIlwwMzNbOTZtIgpZRUxMT1cgPSAiXDAzM1s5M20iCkdSRUVOID0gIlwwMzNbOTJtIgpSRUQgPSAiXDAzM1s5MW0iCkJPTEQgPSAiXDAzM1sxbSIKQkxVRSA9ICJcMDMzWzk0bSIKCiMgQW50aSBDdHJsK0MKZGVmIGhhbmRsZV9zaWdpbnQoc2lnLCBmcmFtZSk6CiAgICBwcmludChmIlxue1JFRH1bIV0gQ3RybCtDIGlzIGRpc2FibGVkLiBVc2UgdGhlIG1lbnUgdG8gZXhpdCBwcm9wZXJseS57UkVTRVR9IikKc2lnbmFsLnNpZ25hbChzaWduYWwuU0lHSU5ULCBoYW5kbGVfc2lnaW50KQoKIyBMb2thc2kgcGVueWltcGFuYW4gQVBJIGtleQpBUElfS0VZX0ZJTEUgPSBQYXRoLmhvbWUoKSAvICIudnRfYXBpX2tleSIKCiMgRnVuZ3NpIGNsZWFyCmRlZiBjbGVhcigpOgogICAgb3Muc3lzdGVtKCJjbGVhciIpCiAgICBvcy5zeXN0ZW0oIm5lb2ZldGNoIikKCiMgVmFsaWRhc2kgVVJMCmRlZiBpc192YWxpZF91cmwodXJsKToKICAgIHBhdHRlcm4gPSByJ15odHRwcz86Ly9bYS16QS1aMC05Li1dK1wuW2EtekEtWl17Mix9JwogICAgcmV0dXJuIHJlLm1hdGNoKHBhdHRlcm4sIHVybCkKCiMgQW1iaWwgaW5mb3JtYXNpIHdlYnNpdGUKZGVmIGdldF9pbmZvKHVybCk6CiAgICB0cnk6CiAgICAgICAgZG9tYWluID0gcmUuc3ViKHInXmh0dHBzPzovLycsICcnLCB1cmwpLnNwbGl0KCcvJylbMF0KICAgICAgICBpcCA9IHNvY2tldC5nZXRob3N0YnluYW1lKGRvbWFpbikKICAgICAgICB0cnk6CiAgICAgICAgICAgIGhvc3RuYW1lID0gc29ja2V0LmdldGhvc3RieWFkZHIoaXApWzBdCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBob3N0bmFtZSA9ICJOL0EiCiAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQoZiJodHRwczovL2lwaW5mby5pby97aXB9L2pzb24iKS5qc29uKCkKICAgICAgICB0cnk6CiAgICAgICAgICAgIHdob2lzID0gSVBXaG9pcyhpcCkubG9va3VwX3JkYXAoKQogICAgICAgICAgICBvcmdfbmFtZSA9IHdob2lzLmdldCgnbmV0d29yaycsIHt9KS5nZXQoJ25hbWUnLCAnTi9BJykKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIG9yZ19uYW1lID0gIk4vQSIKCiAgICAgICAgaW5mbyA9IHsKICAgICAgICAgICAgIlVSTCI6IHVybCwKICAgICAgICAgICAgIklQIEFkZHJlc3MiOiBpcCwKICAgICAgICAgICAgIkhvc3QgTmFtZSI6IGhvc3RuYW1lLAogICAgICAgICAgICAiSVNQIjogcmVzcG9uc2UuZ2V0KCdvcmcnLCAnTi9BJyksCiAgICAgICAgICAgICJPcmdhbml6YXRpb24iOiBvcmdfbmFtZSwKICAgICAgICAgICAgIkNvdW50cnkiOiByZXNwb25zZS5nZXQoJ2NvdW50cnknLCAnTi9BJyksCiAgICAgICAgICAgICJSZWdpb24iOiByZXNwb25zZS5nZXQoJ3JlZ2lvbicsICdOL0EnKSwKICAgICAgICAgICAgIkNpdHkiOiByZXNwb25zZS5nZXQoJ2NpdHknLCAnTi9BJyksCiAgICAgICAgICAgICJUaW1lem9uZSI6IHJlc3BvbnNlLmdldCgndGltZXpvbmUnLCAnTi9BJyksCiAgICAgICAgICAgICJMb2NhbCBUaW1lIjogZGF0ZXRpbWUubm93KHB5dHoudGltZXpvbmUocmVzcG9uc2UuZ2V0KCd0aW1lem9uZScsICdVVEMnKSkpLnN0cmZ0aW1lKCclWS0lbS0lZCAlSDolTTolUycpLAogICAgICAgICAgICAiUG9zdGFsIENvZGUiOiByZXNwb25zZS5nZXQoJ3Bvc3RhbCcsICdOL0EnKSwKICAgICAgICAgICAgIkNvb3JkaW5hdGVzIjogcmVzcG9uc2UuZ2V0KCdsb2MnLCAnTi9BJykKICAgICAgICB9CgogICAgICAgIHByaW50KGYiXG57R1JFRU59e0JPTER9V2Vic2l0ZSBJbmZvcm1hdGlvbjp7UkVTRVR9IikKICAgICAgICBmb3Iga2V5LCB2YWwgaW4gaW5mby5pdGVtcygpOgogICAgICAgICAgICBwcmludChmIntDWUFOfXtrZXk6PDE1fTp7UkVTRVR9IHtZRUxMT1d9e3ZhbH17UkVTRVR9IikKICAgICAgICBwcmludCgpCgogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHByaW50KGYie1JFRH1FcnJvcjoge2V9e1JFU0VUfSIpCgojIFZhbGlkYXNpIEFQSSBrZXkKZGVmIHZhbGlkYXRlX3Z0X2FwaShrZXkpOgogICAgaGVhZGVycyA9IHsieC1hcGlrZXkiOiBrZXl9CiAgICB0cnk6CiAgICAgICAgciA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly93d3cudmlydXN0b3RhbC5jb20vYXBpL3YzL3VzZXJzL21lIiwgaGVhZGVycz1oZWFkZXJzKQogICAgICAgIHJldHVybiByLnN0YXR1c19jb2RlID09IDIwMAogICAgZXhjZXB0OgogICAgICAgIHJldHVybiBGYWxzZQoKIyBQcm9tcHQgQVBJIGtleSBiYXJ1CmRlZiBwcm9tcHRfZm9yX25ld19hcGkoKToKICAgIHByaW50KGYie0NZQU59VmlzaXQgaHR0cHM6Ly93d3cudmlydXN0b3RhbC5jb20gYW5kIGxvZyBpbiB0byBnZXQgeW91ciBBUEkga2V5LntSRVNFVH0iKQogICAga2V5ID0gaW5wdXQoZiJ7WUVMTE9XfUVudGVyIHlvdXIgVmlydXNUb3RhbCBBUEkga2V5OiB7UkVTRVR9IikKICAgIGlmIHZhbGlkYXRlX3Z0X2FwaShrZXkpOgogICAgICAgIEFQSV9LRVlfRklMRS53cml0ZV90ZXh0KGtleS5zdHJpcCgpKQogICAgICAgIHByaW50KGYie0dSRUVOfVsrXSBBUEkga2V5IHNhdmVkIHN1Y2Nlc3NmdWxseS57UkVTRVR9IikKICAgICAgICByZXR1cm4ga2V5LnN0cmlwKCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQoZiJ7UkVEfVshXSBJbnZhbGlkIEFQSSBrZXkue1JFU0VUfSIpCiAgICAgICAgcmV0dXJuIE5vbmUKCiMgQW1iaWwgZGFuIHZhbGlkYXNpIEFQSSBrZXkKZGVmIGdldF92dF9hcGlfa2V5KCk6CiAgICBpZiBBUElfS0VZX0ZJTEUuZXhpc3RzKCk6CiAgICAgICAga2V5ID0gQVBJX0tFWV9GSUxFLnJlYWRfdGV4dCgpLnN0cmlwKCkKICAgICAgICBpZiB2YWxpZGF0ZV92dF9hcGkoa2V5KToKICAgICAgICAgICAgcmV0dXJuIGtleQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KGYie1JFRH1bIV0gU3RvcmVkIEFQSSBrZXkgaXMgaW52YWxpZC57UkVTRVR9IikKICAgICAgICAgICAgY2hvaWNlID0gaW5wdXQoZiJ7WUVMTE9XfURvIHlvdSB3YW50IHRvIGVudGVyIGEgbmV3IEFQSSBrZXk/ICh5L24pOiB7UkVTRVR9IikKICAgICAgICAgICAgaWYgY2hvaWNlLmxvd2VyKCkgPT0gJ3knOgogICAgICAgICAgICAgICAgQVBJX0tFWV9GSUxFLnVubGluayhtaXNzaW5nX29rPVRydWUpCiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbXB0X2Zvcl9uZXdfYXBpKCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJldHVybiBOb25lCiAgICBlbHNlOgogICAgICAgIHJldHVybiBwcm9tcHRfZm9yX25ld19hcGkoKQoKIyBTY2FuIFVSTCBkZW5nYW4gVmlydXNUb3RhbApkZWYgc2Nhbl91cmxfd2l0aF92aXJ1c3RvdGFsKHVybCwga2V5KToKICAgIGhlYWRlcnMgPSB7IngtYXBpa2V5Ijoga2V5fQogICAgdHJ5OgogICAgICAgIHJlc3BvbnNlID0gcmVxdWVzdHMucG9zdCgiaHR0cHM6Ly93d3cudmlydXN0b3RhbC5jb20vYXBpL3YzL3VybHMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzPWhlYWRlcnMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE9eyJ1cmwiOiB1cmx9KQogICAgICAgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlICE9IDIwMDoKICAgICAgICAgICAgcHJpbnQoZiJ7UkVEfUZhaWxlZCB0byBzdWJtaXQgVVJMIHRvIFZpcnVzVG90YWwue1JFU0VUfSIpCiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBhbmFseXNpc19pZCA9IHJlc3BvbnNlLmpzb24oKVsnZGF0YSddWydpZCddCiAgICAgICAgdGltZS5zbGVlcCgyKQogICAgICAgIGFuYWx5c2lzX3VybCA9IGYiaHR0cHM6Ly93d3cudmlydXN0b3RhbC5jb20vYXBpL3YzL2FuYWx5c2VzL3thbmFseXNpc19pZH0iCiAgICAgICAgcmVzdWx0ID0gcmVxdWVzdHMuZ2V0KGFuYWx5c2lzX3VybCwgaGVhZGVycz1oZWFkZXJzKS5qc29uKCkKCiAgICAgICAgc3RhdHMgPSByZXN1bHRbImRhdGEiXVsiYXR0cmlidXRlcyJdWyJzdGF0cyJdCiAgICAgICAgcHJpbnQoZiJcbntHUkVFTn1TY2FuIFJlc3VsdHM6e1JFU0VUfSIpCiAgICAgICAgZm9yIGtleSBpbiBzdGF0czoKICAgICAgICAgICAgcHJpbnQoZiJ7Q1lBTn17a2V5LmNhcGl0YWxpemUoKTo8MTV9OntSRVNFVH0ge1lFTExPV317c3RhdHNba2V5XX17UkVTRVR9IikKCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoZiJ7UkVEfUVycm9yIHNjYW5uaW5nIFVSTDoge2V9e1JFU0VUfSIpCgojIENlayBzdGF0dXMgc2l0dXMKZGVmIGNoZWNrX3NpdGVfc3RhdHVzKHVybCk6CiAgICB0cnk6CiAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQodXJsKQogICAgICAgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDIwMDoKICAgICAgICAgICAgcHJpbnQoZiJ7R1JFRU59VGhlIHNpdGUgaXMgT05MSU5FIXtSRVNFVH0iKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KGYie1JFRH1UaGUgc2l0ZSByZXR1cm5lZCBhIHtyZXNwb25zZS5zdGF0dXNfY29kZX0gZXJyb3IgY29kZS57UkVTRVR9IikKICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLlJlcXVlc3RFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChmIntSRUR9VGhlIHNpdGUgaXMgT0ZGTElORS4gRXJyb3I6IHtlfXtSRVNFVH0iKQoKIyBNZW51IHBpbGloYW4gMiBkZW5nYW4gZml0dXIgJ2NoYW5nZS1hcGknCmRlZiBvcHRpb25fMigpOgogICAgY2xlYXIoKQogICAgd2hpbGUgVHJ1ZToKICAgICAgICB1cmwgPSBpbnB1dChmIntHUkVFTn1FbnRlciBVUkwgdG8gc2NhbiAob3IgdHlwZSAnY2hhbmdlLWFwaScgdG8gdXBkYXRlIEFQSSk6IHtSRVNFVH0iKQogICAgICAgIGlmIHVybC5sb3dlcigpID09ICJjaGFuZ2UtYXBpIjoKICAgICAgICAgICAgY2xlYXIoKQogICAgICAgICAgICBwcmludChmIntZRUxMT1d9WyFdIE9sZCBBUEkga2V5IHJlbW92ZWQuIFBsZWFzZSBlbnRlciBhIG5ldyBBUEkga2V5LntSRVNFVH0iKQogICAgICAgICAgICBBUElfS0VZX0ZJTEUudW5saW5rKG1pc3Npbmdfb2s9VHJ1ZSkKICAgICAgICAgICAga2V5ID0gcHJvbXB0X2Zvcl9uZXdfYXBpKCkKICAgICAgICAgICAgaWYga2V5OgogICAgICAgICAgICAgICAgcHJpbnQoZiJ7R1JFRU59WytdIE5ldyBBUEkga2V5IHNhdmVkIGFuZCByZWFkeSB0byB1c2Uhe1JFU0VUfSIpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBwcmludChmIntSRUR9WyFdIEZhaWxlZCB0byBzYXZlIG5ldyBBUEkga2V5LiBSZXR1cm5pbmcgdG8gbWVudS4uLntSRVNFVH0iKQogICAgICAgICAgICB0aW1lLnNsZWVwKDIpCiAgICAgICAgICAgIHJldHVybgogICAgICAgIGVsaWYgbm90IGlzX3ZhbGlkX3VybCh1cmwpOgogICAgICAgICAgICBwcmludChmIntSRUR9SW52YWxpZCBVUkwgZm9ybWF0LiBUcnkgYWdhaW4ue1JFU0VUfSIpCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMikKICAgICAgICBlbHNlOgogICAgICAgICAgICBrZXkgPSBnZXRfdnRfYXBpX2tleSgpCiAgICAgICAgICAgIGlmIGtleToKICAgICAgICAgICAgICAgIHNjYW5fdXJsX3dpdGhfdmlydXN0b3RhbCh1cmwsIGtleSkKICAgICAgICAgICAgaW5wdXQoZiJ7QkxVRX1QcmVzcyBFbnRlciB0byByZXR1cm4gdG8gbWVudS4uLntSRVNFVH0iKQogICAgICAgICAgICByZXR1cm4KCiMgR3JlZXRpbmcgc2VzdWFpIHdha3R1CmRlZiBncmVldGluZygpOgogICAgaG91ciA9IGRhdGV0aW1lLm5vdygpLmhvdXIKICAgIGlmIDUgPD0gaG91ciA8IDEyOgogICAgICAgIHJldHVybiAiR29vZCBNb3JuaW5nIgogICAgZWxpZiAxMiA8PSBob3VyIDwgMTY6CiAgICAgICAgcmV0dXJuICJHb29kIEFmdGVybm9vbiIKICAgIGVsaWYgMTYgPD0gaG91ciA8IDIwOgogICAgICAgIHJldHVybiAiR29vZCBFdmVuaW5nIgogICAgZWxzZToKICAgICAgICByZXR1cm4gIkdvb2QgTmlnaHQiCgojIFBhc3Rpa2FuIHpwaGlzaGVyIHRlcnNlZGlhCmRlZiBlbnN1cmVfenBoaXNoZXIoKToKICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKCJ6cGhpc2hlciIpOgogICAgICAgIHByaW50KGYie1lFTExPV31bIV0gRmlsZSAncGhpc2luZycgbm90IGZvdW5kLiBjbG9uaW5nIHRoZSByZXBvc2l0b3J5Li4ue1JFU0VUfSIpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBvcy5zeXN0ZW0oImdpdCBjbG9uZSBodHRwczovL2dpdGh1Yi5jb20vaHRyLXRlY2gvenBoaXNoZXIuZ2l0IikKICAgICAgICAgICAgcHJpbnQoZiJ7R1JFRU59WytdIGNsb25lIHN1Y2Nlc2Z1bGx5LntSRVNFVH0iKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZiJ7UkVEfVshXSBjbG9uZSBub3Qgc3VjY2VzZnVsbHk6IHtlfXtSRVNFVH0iKQogICAgZWxzZToKICAgICAgICBwcmludChmIntHUkVFTn1b4pyTXSBGaWxlICdwaGlzaW5nJyBmb3VuZC57UkVTRVR9IikKCiMgTWVudSB1dGFtYQpkZWYgbWFpbigpOgogICAgd2hpbGUgVHJ1ZToKICAgICAgICBjbGVhcigpCiAgICAgICAgcHJpbnQoZiJ7QkxVRX17Qk9MRH3ila3ilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDila57UkVTRVR9IikKICAgICAgICBwcmludChmIntCTFVFfeKUgntSRVNFVH0ge1lFTExPV317Z3JlZXRpbmcoKX0gLSBTY3JpcHQgYnkgTXVteXogKFJhZmFlbCl7UkVTRVQ6PDI2fXtCTFVFfeKUgntSRVNFVH0iKQogICAgICAgIHByaW50KGYie0JMVUV94pWw4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pWve1JFU0VUfSIpCiAgICAgICAgcHJpbnQoZiJ7QkxVRX3ilIJ7UkVTRVR9IHtZRUxMT1d9MHtSRVNFVH0uIEV4aXQgYW5kIENsZWFyICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QkxVRX3ilIJ7UkVTRVR9IikKICAgICAgICBwcmludChmIntCTFVFfeKUgntSRVNFVH0ge1lFTExPV30xe1JFU0VUfS4gV2Vic2l0ZSBJbmZvcm1hdGlvbiBMb29rdXAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtCTFVFfeKUgntSRVNFVH0iKQogICAgICAgIHByaW50KGYie0JMVUV94pSCe1JFU0VUfSB7WUVMTE9XfTJ7UkVTRVR9LiBWaXJ1cyBVUkwgU2NhbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0JMVUV94pSCe1JFU0VUfSIpCiAgICAgICAgcHJpbnQoZiJ7QkxVRX3ilIJ7UkVTRVR9IHtZRUxMT1d9M3tSRVNFVH0uIENoZWNrIGlmIHdlYnNpdGUgaXMgb25saW5lICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QkxVRX3ilIJ7UkVTRVR9IikKICAgICAgICBwcmludChmIntCTFVFfeKUgntSRVNFVH0ge1lFTExPV300e1JFU0VUfS4gUnVuIHBoaXNoaW5nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtCTFVFfeKUgntSRVNFVH0iKQogICAgICAgIHByaW50KGYie0JMVUV94pSCe1JFU0VUfSB7WUVMTE9XfTV7UkVTRVR9LiBDaGVjayBzeXN0ZW0gd2l0aCBVUkwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0JMVUV94pSCe1JFU0VUfSIpCiAgICAgICAgcHJpbnQoZiJ7QkxVRX3ilbDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDila97UkVTRVR9IikKICAgICAgICBjaG9pY2UgPSBpbnB1dChmIntHUkVFTn1TZWxlY3QgYW4gb3B0aW9uOiB7UkVTRVR9IikKCiAgICAgICAgaWYgY2hvaWNlID09ICIwIjoKICAgICAgICAgICAgY2xlYXIoKQogICAgICAgICAgICBwcmludChmIntDWUFOfUdvb2RieWUhe1JFU0VUfSIpCiAgICAgICAgICAgIHN5cy5leGl0KCkKICAgICAgICBlbGlmIGNob2ljZSA9PSAiMSI6CiAgICAgICAgICAgIGNsZWFyKCkKICAgICAgICAgICAgdXJsID0gaW5wdXQoZiJ7R1JFRU59RW50ZXIgd2Vic2l0ZSBVUkwgKGUuZy4sIGh0dHBzOi8vZXhhbXBsZS5jb20pOiB7UkVTRVR9IikKICAgICAgICAgICAgaWYgbm90IGlzX3ZhbGlkX3VybCh1cmwpOgogICAgICAgICAgICAgICAgcHJpbnQoZiJ7UkVEfUludmFsaWQgVVJMIGZvcm1hdC4gVHJ5IGFnYWluLntSRVNFVH0iKQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgyKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgZ2V0X2luZm8odXJsKQogICAgICAgICAgICAgICAgaW5wdXQoZiJ7QkxVRX1QcmVzcyBFbnRlciB0byByZXR1cm4gdG8gbWVudS4uLntSRVNFVH0iKQogICAgICAgIGVsaWYgY2hvaWNlID09ICIyIjoKICAgICAgICAgICAgb3B0aW9uXzIoKQogICAgICAgIGVsaWYgY2hvaWNlID09ICIzIjoKICAgICAgICAgICAgY2xlYXIoKQogICAgICAgICAgICB1cmwgPSBpbnB1dChmIntHUkVFTn1FbnRlciB3ZWJzaXRlIFVSTCB0byBjaGVjayBzdGF0dXM6IHtSRVNFVH0iKQogICAgICAgICAgICBpZiBub3QgaXNfdmFsaWRfdXJsKHVybCk6CiAgICAgICAgICAgICAgICBwcmludChmIntSRUR9SW52YWxpZCBVUkwgZm9ybWF0LntSRVNFVH0iKQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgyKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgY2hlY2tfc2l0ZV9zdGF0dXModXJsKQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgyKQogICAgICAgICAgICAgICAgaW5wdXQoZiJ7QkxVRX1QcmVzcyBFbnRlciB0byByZXR1cm4gdG8gbWVudS4uLntSRVNFVH0iKQogICAgICAgIGVsaWYgY2hvaWNlID09ICI0IjoKICAgICAgICAgICAgY2xlYXIoKQogICAgICAgICAgICBwcmludChmIntDWUFOfVJ1bm5pbmcgcGhpc2hpbmcuLi57UkVTRVR9IikKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgaWYgb3MucGF0aC5pc2RpcigienBoaXNoZXIiKToKICAgICAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oImNkIHpwaGlzaGVyICYmIGJhc2ggenBoaXNoZXIuc2giKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBwcmludChmIntSRUR9RmlsZSBwaGlzaGluZyBub3QgZm91bmQue1JFU0VUfSIpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgIHByaW50KGYie1JFRH1FcnJvciBpbiBwaGlzaGluZzoge2V9e1JFU0VUfSIpCiAgICAgICAgICAgIGlucHV0KGYie0JMVUV9WnBoaXNoZXIgZG9uZSwgcHJlc3MgZW50ZXIgdG8gcmV0dXJuIHRvIG1lbnUuLi57UkVTRVR9IikKICAgICAgICBlbGlmIGNob2ljZSA9PSAiNSI6CiAgICAgICAgICAgIGNsZWFyKCkKICAgICAgICAgICAgcHJpbnQoZiJ7Q1lBTn1SdW5uaW5nIHN5c3RlbS4uLntSRVNFVH0iKQogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBpZiBvcy5wYXRoLmlzZmlsZSgiQ3dhYnMtY2xhc2gucHkiKToKICAgICAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oInB5dGhvbiBDd2Ficy1jbGFzaC5weSIpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHByaW50KGYie1JFRH1GaWxlICdDd2Ficy1jbGFzaC5weScgbm90IGZvdW5kLiBQbGVhc2UgbWFrZSBzdXJlIGl0IGV4aXN0cyBpbiB0aGlzIGRpcmVjdG9yeS57UkVTRVR9IikKICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgcHJpbnQoZiJ7UkVEfUVycm9yIHJ1bm5pbmcgdGhlIHN5c3RlbToge2V9e1JFU0VUfSIpCiAgICAgICAgICAgIGlucHV0KGYie0JMVUV9RG9uZS4gUHJlc3MgRW50ZXIgdG8gcmV0dXJuIHRvIHRoZSBtZW51Li4ue1JFU0VUfSIpCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgZW5zdXJlX3pwaGlzaGVyKCkKICAgIG1haW4oKQo=").decode("utf-8"))
